import{r as s}from"./react-5cc2acaa.js";import{R as H,u as x,a as b,D as W,N,b as F,c as A}from"./react-router-14e86955.js";import{c as K,s as B,b as k}from"./@remix-run-5d2167a8.js";/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L(){return L=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},L.apply(this,arguments)}function O(e,a){if(e==null)return{};var r={},t=Object.keys(e),n,o;for(o=0;o<t.length;o++)n=t[o],!(a.indexOf(n)>=0)&&(r[n]=e[n]);return r}function D(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _(e,a){return e.button===0&&(!a||a==="_self")&&!D(e)}function C(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,r)=>{let t=e[r];return a.concat(Array.isArray(t)?t.map(n=>[r,n]):[[r,t]])},[]))}function z(e,a){let r=C(e);if(a)for(let t of a.keys())r.has(t)||a.getAll(t).forEach(n=>{r.append(t,n)});return r}const M=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],T=["aria-current","caseSensitive","className","end","style","to","children"];function Y(e){let{basename:a,children:r,window:t}=e,n=s.useRef();n.current==null&&(n.current=K({window:t,v5Compat:!0}));let o=n.current,[c,i]=s.useState({action:o.action,location:o.location});return s.useLayoutEffect(()=>o.listen(i),[o]),s.createElement(H,{basename:a,children:r,location:c.location,navigationType:c.action,navigator:o})}const G=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=s.forwardRef(function(a,r){let{onClick:t,relative:n,reloadDocument:o,replace:c,state:i,target:f,to:l,preventScrollReset:d}=a,y=O(a,M),{basename:P}=s.useContext(N),v,R=!1;if(typeof l=="string"&&X.test(l)&&(v=l,G)){let u=new URL(window.location.href),m=l.startsWith("//")?new URL(u.protocol+l):new URL(l),S=B(m.pathname,P);m.origin===u.origin&&S!=null?l=S+m.search+m.hash:R=!0}let h=F(l,{relative:n}),g=I(l,{replace:c,state:i,target:f,preventScrollReset:d,relative:n});function p(u){t&&t(u),u.defaultPrevented||g(u)}return s.createElement("a",L({},y,{href:v||h,onClick:R||o?t:p,ref:r,target:f}))}),Z=s.forwardRef(function(a,r){let{"aria-current":t="page",caseSensitive:n=!1,className:o="",end:c=!1,style:i,to:f,children:l}=a,d=O(a,T),y=x(f,{relative:d.relative}),P=b(),v=s.useContext(W),{navigator:R}=s.useContext(N),h=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,g=P.pathname,p=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(g=g.toLowerCase(),p=p?p.toLowerCase():null,h=h.toLowerCase());let u=g===h||!c&&g.startsWith(h)&&g.charAt(h.length)==="/",m=p!=null&&(p===h||!c&&p.startsWith(h)&&p.charAt(h.length)==="/"),S=u?t:void 0,w;typeof o=="function"?w=o({isActive:u,isPending:m}):w=[o,u?"active":null,m?"pending":null].filter(Boolean).join(" ");let j=typeof i=="function"?i({isActive:u,isPending:m}):i;return s.createElement(q,L({},d,{"aria-current":S,className:w,ref:r,style:j,to:f}),typeof l=="function"?l({isActive:u,isPending:m}):l)});var U;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(U||(U={}));var E;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(E||(E={}));function I(e,a){let{target:r,replace:t,state:n,preventScrollReset:o,relative:c}=a===void 0?{}:a,i=A(),f=b(),l=x(e,{relative:c});return s.useCallback(d=>{if(_(d,r)){d.preventDefault();let y=t!==void 0?t:k(f)===k(l);i(e,{replace:y,state:n,preventScrollReset:o,relative:c})}},[f,i,l,t,n,r,e,o,c])}function $(e){let a=s.useRef(C(e)),r=s.useRef(!1),t=b(),n=s.useMemo(()=>z(t.search,r.current?null:a.current),[t.search]),o=A(),c=s.useCallback((i,f)=>{const l=C(typeof i=="function"?i(n):i);r.current=!0,o("?"+l,f)},[o,n]);return[n,c]}export{Y as H,Z as N,$ as u};
